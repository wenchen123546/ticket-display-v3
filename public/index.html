<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<title>å€™ä½è™Ÿç¢¼é¡¯ç¤º</title>
<script src="/socket.io/socket.io.js"></script>
<style>
/* ... (æ‚¨åŸæœ¬çš„ body, h1, h2, #number, #displayText æ¨£å¼ä¸è®Š) ... */
body {
  font-family: "Microsoft JhengHei", sans-serif;
  text-align: center;
  background: #f0f4f8;
  margin: 0;
  padding-top: 80px;
}
h1 {
  font-size: 3rem;
  color: #dc2626;
  margin: 0;
}
h2 {
  font-size: 4rem;
  color: #333;
  margin: 20px 0 0 0;
}
#number {
  font-size: 10rem;
  color: #2563eb;
  margin: 30px 0;
}
#displayText {
  font-size: 3rem;
  color: #333;
  margin-top: 20px;
  min-height: 3.5rem;
  white-space: pre-wrap; 
  word-break: break-word; 
}

/* --- ä»¥ä¸‹ç‚ºæ–°å¢çš„æ¨£å¼ --- */
#passed-container {
  margin-top: 40px;
}
#passed-container h3 {
  font-size: 2.5rem;
  color: #666;
  margin: 0 0 15px 0;
}
#passedList {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 15px; /* è™Ÿç¢¼ä¹‹é–“çš„é–“è· */
}
#passedList li {
  font-size: 3.5rem;
  color: #888;
  background: #e0e0e0;
  padding: 10px 25px;
  border-radius: 10px;
  min-width: 60px; /* ç¢ºä¿å¯¬åº¦ä¸€è‡´ */
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
</style>
</head>
<body>
<h1>ğŸ’‰ç†±è¡€ä¸å®œæ””ï¼ğŸ©¸</h1>
<h2>ç›®å‰è™Ÿç¢¼ï¼š</h2>
<h3 id="number">0</h3>
<h4 id="displayText"></h4>

<div id="passed-container">
  <h3>å·²å«è™Ÿç¢¼ (éè™Ÿ)</h3>
  <ul id="passedList">
    </ul>
</div>


<script>
const socket = io();
const numberEl = document.getElementById("number");
const textEl = document.getElementById("displayText");
const passedListEl = document.getElementById("passedList"); // <-- æ–°å¢

socket.on("update", (num) => {
  // (éŸ³æ•ˆå’Œé–ƒçˆçš„å„ªåŒ–å¯ä»¥åŠ åœ¨é€™è£¡)
  numberEl.textContent = num;
});

socket.on("updateText", (text) => {
  textEl.textContent = text || "";
});

// --- ä»¥ä¸‹ç‚ºæ–°å¢çš„ Socket ç›£è½ ---
socket.on("updatePassed", (numbers) => {
  passedListEl.innerHTML = ""; // æ¯æ¬¡æ”¶åˆ°æ–°åˆ—è¡¨éƒ½å…ˆæ¸…ç©º
  
  if (numbers && numbers.length > 0) {
    numbers.forEach(num => {
      const li = document.createElement("li");
      li.textContent = num;
      passedListEl.appendChild(li);
    });
  } else {
    // (å¯é¸) åˆ—è¡¨ç‚ºç©ºæ™‚é¡¯ç¤ºçš„å…§å®¹
    // passedListEl.innerHTML = "<li>-</li>"; 
  }
});
</script>
</body>
</html>
