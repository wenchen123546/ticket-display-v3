<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>後台管理 - 登入</title>
    <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="/css/admin.css">
</head>
<body>
    <div id="status-bar">連線中斷，正在嘗試重新連線...</div>
    
    <div id="login-container">
        <h1>後台管理登入</h1>
        <label for="password-input" class="sr-only">管理密碼</label>
        <input type="password" id="password-input" placeholder="請輸入管理密碼" />
        <button id="login-button" type="button">登入</button>
        <p id="login-error"></p>
    </div>

    <div id="admin-panel">
        <h1>目前號碼：<span id="number">0</span></h1>

        <div class="admin-grid">

            <div class="grid-column">
                
                <div class="admin-card">
                    <h3><span class="card-icon">🕹️</span> 主要控制</h3>
                    <div class="control-group sound-toggle-group">
                        <label for="sound-toggle">啟用前台音效</label>
                        <input type="checkbox" id="sound-toggle">
                    </div>
                    <div class="control-group button-row">
                        <button id="prev" type="button" class="btn-warn">上一號</button>
                        <button id="next" type="button" class="btn-success">下一號</button>
                    </div>
                    <div class="control-group">
                        <label for="manualNumber">手動設定號碼</label>
                        <input type="number" id="manualNumber" placeholder="輸入號碼" />
                        <button id="setNumber" type="button" class="btn-primary">設定號碼</button>
                    </div>
                </div>

                <div class="admin-card">
                    <h3><span class="card-icon">📋</span> 即時操作日誌</h3>
                    <div class="control-group admin-log-container">
                        <ul id="admin-log-ui">
                            <li>等待伺服器連線...</li>
                        </ul>
                        <button id="clear-log-btn" type="button" class="btn-clear-log">清除日誌</button>
                    </div>
                </div>

            </div> <div class="grid-column">
                
                <div class="admin-card">
                    <h3><span class="card-icon">📝</span> 列表編輯</h3>
                    <div class="control-group list-editor">
                        <label>編輯精選連結</label>
                        <ul id="featured-list-ui"></ul>
                        <div class="input-group">
                            <label for="new-link-text" class="sr-only">連結文字</label>
                            <input type="text" id="new-link-text" placeholder="連結文字">
                            <label for="new-link-url" class="sr-only">連結網址 (https://...)</label>
                            <input type="text" id="new-link-url" placeholder="https://... 網址">
                            <button id="add-featured-btn" type="button" class="btn-add">+</button>
                        </div>
                        <button id="saveFeaturedContents" type="button" class="btn-secondary">儲存精選連結</button>
                    </div>
            
                    <div class="control-group list-editor">
                        <label>手動編輯過號列表</label>
                        <ul id="passed-list-ui"></ul>
                        <div class="input-group">
                            <label for="new-passed-number" class="sr-only">輸入過號號碼</label>
                            <input type="number" id="new-passed-number" placeholder="輸入號碼">
                            <button id="add-passed-btn" type="button" class="btn-add">+</button>
                        </div>
                        <button id="savePassedNumbers" type="button" class="btn-cyan">儲存過號列表</button>
                    </div>
                </div>

                <div class="admin-card">
                    <h3><span class="card-icon">⚙️</span> 系統設定</h3>
                    <div class="reset-zone">
                        <div class="control-group button-row">
                            <button id="resetNumber" type="button" class="btn-reset-single">重置號碼</button>
                            <button id="resetFeaturedContents" type="button" class="btn-reset-single">重置精選連結</button>
                            <button id="resetPassed" type="button" class="btn-reset-single">重置過號列表</button>
                        </div>

                        <button id="resetAll" type="button" class="btn-danger">💥 重置所有 (點擊確認)</button>
                        <button id="resetAllConfirm" type="button" class="btn-danger-confirm" style="display:none;">⚠️ 點此確認重置 ⚠️</button>

                    </div>
                </div>

            </div> </div> </div>

    <script src="/js/admin.js"></script>
</body>
</html>
